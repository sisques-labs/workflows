<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Reusable GitHub Workflows | Sisques Labs</title>
    <link
      rel="icon"
      href="data:image/svg+xml,<svg xmlns=%22http://www.w3.org/2000/svg%22 viewBox=%220 0 100 100%22><text y=%22.9em%22 font-size=%2290%22>‚öôÔ∏è</text></svg>"
    />
    <link rel="stylesheet" href="styles.css" />
    <link rel="preconnect" href="https://fonts.googleapis.com" />
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
    <link
      href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&display=swap"
      rel="stylesheet"
    />
    <link
      rel="stylesheet"
      href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism-tomorrow.min.css"
    />
  </head>
  <body>
    <nav class="navbar">
      <div class="container">
        <div class="nav-content">
          <a href="#home" class="logo">Workflows</a>
          <div class="nav-links">
            <a href="#workflows">Workflows</a>
            <a href="#actions">Actions</a>
            <a href="#examples">Examples</a>
            <a
              href="https://github.com/sisques-labs/workflows"
              target="_blank"
              class="github-link"
            >
              <svg
                width="20"
                height="20"
                viewBox="0 0 24 24"
                fill="currentColor"
              >
                <path
                  d="M12 0c-6.626 0-12 5.373-12 12 0 5.302 3.438 9.8 8.207 11.387.599.111.793-.261.793-.577v-2.234c-3.338.726-4.033-1.416-4.033-1.416-.546-1.387-1.333-1.756-1.333-1.756-1.089-.745.083-.729.083-.729 1.205.084 1.839 1.237 1.839 1.237 1.07 1.834 2.807 1.304 3.492.997.107-.775.418-1.305.762-1.604-2.665-.305-5.467-1.334-5.467-5.931 0-1.311.469-2.381 1.236-3.221-.124-.303-.535-1.524.117-3.176 0 0 1.008-.322 3.301 1.23.957-.266 1.983-.399 3.003-.404 1.02.005 2.047.138 3.006.404 2.291-1.552 3.297-1.23 3.297-1.23.653 1.653.242 2.874.118 3.176.77.84 1.235 1.911 1.235 3.221 0 4.609-2.807 5.624-5.479 5.921.43.372.823 1.102.823 2.222v3.293c0 .319.192.694.801.576 4.765-1.589 8.199-6.086 8.199-11.386 0-6.627-5.373-12-12-12z"
                />
              </svg>
              GitHub
            </a>
          </div>
        </div>
      </div>
    </nav>

    <main>
      <section id="home" class="hero">
        <div class="container">
          <h1>Reusable GitHub Workflows</h1>
          <p class="subtitle">
            Centralized CI/CD workflows and composite actions for your projects
          </p>
          <div class="hero-buttons">
            <a href="#workflows" class="btn btn-primary">Get Started</a>
            <a
              href="https://github.com/sisques-labs/workflows"
              target="_blank"
              class="btn btn-secondary"
              >View on GitHub</a
            >
          </div>
        </div>
      </section>

      <section id="overview" class="overview">
        <div class="container">
          <h2>What is this?</h2>
          <p class="lead">
            This repository contains reusable GitHub Actions workflows and
            composite actions that can be used across multiple projects to
            centralize and standardize your CI/CD logic.
          </p>

          <div class="structure">
            <h3>Repository Structure</h3>
            <pre><code class="language-bash">.github/
‚îú‚îÄ‚îÄ workflows/          # Reusable workflows
‚îî‚îÄ‚îÄ actions/            # Composite actions
    ‚îú‚îÄ‚îÄ setup/          # Common setup (Node.js, pnpm, checkout)
    ‚îú‚îÄ‚îÄ install/        # Install dependencies with pnpm
    ‚îî‚îÄ‚îÄ prisma-generate/ # Prisma client generation</code></pre>
          </div>
        </div>
      </section>

      <section id="workflows" class="workflows">
        <div class="container">
          <h2>Reusable Workflows</h2>
          <p class="section-description">
            Pre-built workflows for common CI/CD tasks
          </p>

          <div class="workflow-grid">
            <div class="workflow-card">
              <div class="workflow-icon">üî®</div>
              <h3>Build</h3>
              <p>
                Builds an application or package with optional linting, type
                checking, tests, and Prisma generation.
              </p>
              <a href="#build-details" class="workflow-link">View Details ‚Üí</a>
            </div>

            <div class="workflow-card">
              <div class="workflow-icon">‚ú®</div>
              <h3>Code Quality</h3>
              <p>
                Runs linting, type checking, and optionally SonarCloud scan.
              </p>
              <a href="#quality-details" class="workflow-link"
                >View Details ‚Üí</a
              >
            </div>

            <div class="workflow-card">
              <div class="workflow-icon">üß™</div>
              <h3>Test</h3>
              <p>Runs tests with optional coverage and Prisma generation.</p>
              <a href="#test-details" class="workflow-link">View Details ‚Üí</a>
            </div>

            <div class="workflow-card">
              <div class="workflow-icon">üöÄ</div>
              <h3>Deploy</h3>
              <p>Deploys an application to a specified environment.</p>
              <a href="#deploy-details" class="workflow-link">View Details ‚Üí</a>
            </div>

            <div class="workflow-card">
              <div class="workflow-icon">üîí</div>
              <h3>Security Scan</h3>
              <p>Runs security scans using npm audit, Snyk, and Trivy.</p>
              <a href="#security-details" class="workflow-link"
                >View Details ‚Üí</a
              >
            </div>

            <div class="workflow-card">
              <div class="workflow-icon">üì¶</div>
              <h3>Package Release</h3>
              <p>Releases a package using semantic-release.</p>
              <a href="#package-release-details" class="workflow-link"
                >View Details ‚Üí</a
              >
            </div>

            <div class="workflow-card">
              <div class="workflow-icon">üê≥</div>
              <h3>App Release</h3>
              <p>
                Releases an application and builds/pushes a Docker image to
                GitHub Container Registry.
              </p>
              <a href="#app-release-details" class="workflow-link"
                >View Details ‚Üí</a
              >
            </div>

            <div class="workflow-card">
              <div class="workflow-icon">üëÄ</div>
              <h3>PR Preview</h3>
              <p>
                Deploys a preview environment for pull requests (Vercel,
                Netlify, or Cloudflare).
              </p>
              <a href="#pr-preview-details" class="workflow-link"
                >View Details ‚Üí</a
              >
            </div>

            <div class="workflow-card">
              <div class="workflow-icon">üåê</div>
              <h3>Web Build</h3>
              <p>
                Builds a Next.js or web application with optional linting and
                testing.
              </p>
              <a href="#web-build-details" class="workflow-link"
                >View Details ‚Üí</a
              >
            </div>
          </div>
        </div>
      </section>

      <section id="workflow-details" class="workflow-details">
        <div class="container">
          <div id="build-details" class="detail-section">
            <h3>Build</h3>
            <p>
              Builds an application or package with optional linting, type
              checking, tests, and Prisma generation.
            </p>
            <pre><code class="language-yaml">jobs:
  build:
    uses: sisques-labs/workflows/.github/workflows/build.yml@main
    with:
      app_path: "apps/admin"
      app_name: "Admin App"
      run_lint: true
      run_test: false
      run_check_types: false
      run_prisma_generate: false</code></pre>
          </div>

          <div id="web-build-details" class="detail-section">
            <h3>Web Build</h3>
            <p>
              Builds a Next.js or web application with optional linting and
              testing.
            </p>
            <pre><code class="language-yaml">jobs:
  build:
    uses: sisques-labs/workflows/.github/workflows/web-build.yml@main
    with:
      app_path: "apps/web"
      app_name: "Web App"
      node_version: "24"
      run_lint: true
      run_test: true
      build_command: "build"</code></pre>
          </div>

          <div id="quality-details" class="detail-section">
            <h3>Code Quality</h3>
            <p>Runs linting, type checking, and optionally SonarCloud scan.</p>
            <pre><code class="language-yaml">jobs:
  quality:
    uses: sisques-labs/workflows/.github/workflows/code-quality.yml@main
    with:
      app_path: "apps/admin"
      app_name: "Admin App"
      node_version: "24"
      run_lint: true
      check_types: true
      run_sonarcloud: false</code></pre>
          </div>

          <div id="test-details" class="detail-section">
            <h3>Test</h3>
            <p>Runs tests with optional coverage and Prisma generation.</p>
            <pre><code class="language-yaml">jobs:
  test:
    uses: sisques-labs/workflows/.github/workflows/test.yml@main
    with:
      app_path: "apps/api"
      app_name: "API"
      node_version: "24"
      test_command: "test"
      coverage: true
      run_prisma_generate: true</code></pre>
          </div>

          <div id="deploy-details" class="detail-section">
            <h3>Deploy</h3>
            <p>Deploys an application to a specified environment.</p>
            <pre><code class="language-yaml">jobs:
  deploy:
    uses: sisques-labs/workflows/.github/workflows/deploy.yml@main
    with:
      app_path: "apps/api"
      app_name: "API"
      environment: "production"
      deploy_command: "deploy"
      node_version: "24"
      build_before_deploy: true
    secrets: inherit</code></pre>
          </div>

          <div id="security-details" class="detail-section">
            <h3>Security Scan</h3>
            <p>Runs security scans using npm audit, Snyk, and Trivy.</p>
            <pre><code class="language-yaml">jobs:
  security:
    uses: sisques-labs/workflows/.github/workflows/security-scan.yml@main
    with:
      app_path: "."
      node_version: "24"
    secrets: inherit</code></pre>
          </div>

          <div id="package-release-details" class="detail-section">
            <h3>Package Release</h3>
            <p>Releases a package using semantic-release.</p>
            <pre><code class="language-yaml">jobs:
  release:
    uses: sisques-labs/workflows/.github/workflows/package-release.yml@main
    with:
      package_path: "packages/sdk"
      package_name: "SDK"
    secrets: inherit</code></pre>
          </div>

          <div id="app-release-details" class="detail-section">
            <h3>App Release with Docker</h3>
            <p>
              Releases an application and builds/pushes a Docker image to GitHub
              Container Registry.
            </p>
            <pre><code class="language-yaml">jobs:
  release:
    uses: sisques-labs/workflows/.github/workflows/app-release.yml@main
    with:
      app_path: "apps/api"
      app_name: "API"
      dockerfile_path: "."
    secrets: inherit</code></pre>
          </div>

          <div id="pr-preview-details" class="detail-section">
            <h3>PR Preview</h3>
            <p>
              Deploys a preview environment for pull requests (Vercel, Netlify,
              or Cloudflare).
            </p>
            <pre><code class="language-yaml">jobs:
  preview:
    uses: sisques-labs/workflows/.github/workflows/pr-preview.yml@main
    with:
      app_path: "apps/web"
      app_name: "Web App"
      node_version: "24"
      preview_platform: "vercel"
      build_command: "build"
    secrets: inherit</code></pre>
          </div>
        </div>
      </section>

      <section id="actions" class="actions">
        <div class="container">
          <h2>Composite Actions</h2>
          <p class="section-description">
            Reusable action components for common setup tasks
          </p>

          <div class="action-grid">
            <div class="action-card">
              <h3>Setup</h3>
              <p>
                Common setup action for repository checkout, Node.js, and pnpm
                installation.
              </p>
              <pre><code class="language-yaml">- name: Setup
  uses: sisques-labs/workflows/.github/actions/setup@main
  with:
    node_version: "24"
    pnpm_version: "latest"</code></pre>
            </div>

            <div class="action-card">
              <h3>Install</h3>
              <p>
                Install dependencies using pnpm with optional filter and frozen
                lockfile handling.
              </p>
              <pre><code class="language-yaml">- name: Install dependencies
  uses: sisques-labs/workflows/.github/actions/install@main
  with:
    app_path: "apps/web"
    use_filter: "true"
    frozen_lockfile: "true"</code></pre>
            </div>

            <div class="action-card">
              <h3>Prisma Generate</h3>
              <p>Generates Prisma master and tenant clients.</p>
              <pre><code class="language-yaml">- name: Generate Prisma clients
  uses: sisques-labs/workflows/.github/actions/prisma-generate@main
  with:
    app_path: "apps/api"</code></pre>
            </div>
          </div>
        </div>
      </section>

      <section id="examples" class="examples">
        <div class="container">
          <h2>Complete CI Pipeline Example</h2>
          <p class="section-description">
            Combine multiple workflows for a complete CI/CD pipeline
          </p>
          <pre><code class="language-yaml">name: CI

on:
  push:
    branches: [main]
  pull_request:
    branches: [main]

jobs:
  quality:
    uses: sisques-labs/workflows/.github/workflows/code-quality.yml@main
    with:
      app_path: "apps/admin"
      app_name: "Admin App"

  test:
    uses: sisques-labs/workflows/.github/workflows/test.yml@main
    with:
      app_path: "apps/admin"
      app_name: "Admin App"
      coverage: true

  build:
    needs: [quality, test]
    uses: sisques-labs/workflows/.github/workflows/build.yml@main
    with:
      app_path: "apps/admin"
      app_name: "Admin App"
      run_lint: false  # Already run in quality job
      run_test: false  # Already run in test job</code></pre>
        </div>
      </section>

      <section id="best-practices" class="best-practices">
        <div class="container">
          <h2>Best Practices</h2>
          <ul class="practices-list">
            <li>
              <strong>Always use <code>secrets: inherit</code></strong> when
              calling workflows that require secrets
            </li>
            <li>
              <strong>Use consistent Node.js versions</strong> across your
              project (default is <code>24</code>)
            </li>
            <li>
              <strong>Enable cache</strong> (<code>use_cache: "true"</code>) for
              faster builds in most cases
            </li>
            <li>
              <strong>Use install_filter</strong> when you only need
              dependencies for a specific app/package
            </li>
            <li>
              <strong>Combine workflows</strong> in your project's workflow
              files for complete CI/CD pipelines
            </li>
          </ul>
        </div>
      </section>
    </main>

    <footer class="footer">
      <div class="container">
        <p>
          &copy; 2024 Sisques Labs. Open source and available under the MIT
          License.
        </p>
      </div>
    </footer>

    <script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/components/prism-core.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/plugins/autoloader/prism-autoloader.min.js"></script>
    <script src="script.js"></script>
  </body>
</html>
